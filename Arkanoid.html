<html>
<head>
	<meta charset="utf-8" />
	<title></title>
</head>
<body>
<script src="keys.js"></script>
<script src="engine.js"></script>
<script src="graph.js"></script>
<script src="player.js"></script>
<script src="ball.js"></script>
<script src="grid.js"></script>

<canvas id="canvas" width="640" height="480" style="position: absolute; top: 0; left: 0;"></canvas>
<div style="position: absolute; top: 10px; left: 10px;">
	Счёт игрока: <b id="score">0</b><br />
	Мячи: <b id="hp">3</b>
</div>

<script type="text/javascript">
init();

var map = {
	color : '#C75252',
	width : 40,
	height : 20,
	offset : 5,

	tiles : [
		[1, 1, 1, 1, 1, 1, 1],
		[1, 0, 0, 1, 0, 0, 1],
		[1, 1, 1, 1, 1, 1, 1],
		[1, 1, 1, 0, 1, 1, 1],
		[1, 0, 1, 1, 1, 0, 1],
		[1, 0, 0, 0, 0, 0, 1],
		[1, 1, 1, 1, 1, 1, 1]
	]
};


grid.create(map);

//grid.generate(5, 60, 30, 'red');
player.init(width/2, 200, 'blue');
ball.init(player.x+Math.ceil(player.width / 2), player.y-5, 10, 'blue');

var game = function () {
	fillAll('#ADDBE6');

	grid.draw();

	ball.collision();
	ball.move();
	ball.draw();

	player.move();
	player.draw();

};

var menu = function () {
	fillAll('#ADDBE6');

	grid.draw();
	ball.draw();
	player.draw();

	if (isAnyKeyDown()) {
		setGame(game);
	}
};

startGame(menu);

</script>


</body>
</html>